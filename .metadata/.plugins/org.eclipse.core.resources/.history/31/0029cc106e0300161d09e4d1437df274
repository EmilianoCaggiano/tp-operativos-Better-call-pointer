/*
 * consola.c
 *
 *  Created on: 23/4/2016
 *      Author: utnso
 */
#include "consola.h"



t_config* archivoDeConfiguracion;

void leerArchivoDeConfiguracion() {

           char*configPath = "consola/configconsola";

            if (verificarExistenciaDeArchivo(configPath) == FAIL)
		manejarError("[ERROR] Archivo de configuracion no encontrado");

	archivoDeConfiguracion = config_create(configPath);

	logger = log_create("logConsola", "Log Consola", true, LOG_LEVEL_DEBUG);

	if (config_has_property(configuration, "IP_KERNEL")) {
		ipKernel = config_get_string_value(configuration, "IP_KERNEL");
		printf("La IP del kernel es: %s\n",ipKernel);
	} else {
		log_error(logger, "Error al obtener la IP del Kernel");
	}

	if (config_has_property(configuration, "PUERTO_NUCLEO")) {
		nucleoPort = config_get_string_value(configuration, "PUERTO_NUCLEO");
		printf("El puerto del nucleo es: %s\n",nucleoPort);
	} else {
		log_error(logger, "Error al obtener el puerto del kernel");
	}
}
